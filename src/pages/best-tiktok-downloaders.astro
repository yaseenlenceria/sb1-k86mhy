---
import Layout from '../layouts/Layout.astro';
import { StarRating } from '../components/StarRating';

const downloaders = [
  {
    name: "SaveDownloadTT",
    rating: 5,
    reviewCount: 1250,
    features: [
      "No Watermark Downloads",
      "HD Quality Videos",
      "MP3 Conversion",
      "Batch Downloads",
      "No Registration Required",
      "Fast Processing",
      "Mobile Friendly",
      "24/7 Support"
    ],
    pros: [
      "Lightning-fast downloads",
      "High-quality video output",
      "User-friendly interface",
      "Free to use"
    ],
    cons: [
      "Limited to personal use",
      "API rate limits apply"
    ],
    description: "SaveDownloadTT is a premium TikTok video downloader offering high-quality downloads without watermarks. Our service prioritizes speed and ease of use.",
    url: "https://savedownloadtt.com"
  },
  // ... other downloaders
];

// Calculate aggregate rating
const totalRatings = downloaders.reduce((acc, downloader) => acc + downloader.rating, 0);
const averageRating = (totalRatings / downloaders.length).toFixed(1);
const totalReviews = downloaders.reduce((acc, downloader) => acc + downloader.reviewCount, 0);

const schema = {
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "10 Best TikTok Video Downloaders in 2024: Complete Comparison Guide",
  "description": "Comprehensive comparison of the best TikTok video downloaders. Compare features, ratings, and choose the perfect downloader for your needs.",
  "datePublished": "2024-01-01",
  "dateModified": new Date().toISOString(),
  "author": {
    "@type": "Organization",
    "name": "SaveDownloadTT"
  },
  "publisher": {
    "@type": "Organization",
    "name": "SaveDownloadTT",
    "logo": {
      "@type": "ImageObject",
      "url": "https://savedownloadtt.com/logo.png"
    }
  },
  "reviewedItem": {
    "@type": "SoftwareApplication",
    "name": "TikTok Video Downloaders",
    "applicationCategory": "UtilitiesApplication",
    "operatingSystem": "Any",
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": averageRating,
      "bestRating": "5",
      "worstRating": "1",
      "ratingCount": totalReviews,
      "reviewCount": totalReviews
    }
  },
  "review": downloaders.map(downloader => ({
    "@type": "Review",
    "itemReviewed": {
      "@type": "SoftwareApplication",
      "name": downloader.name
    },
    "reviewRating": {
      "@type": "Rating",
      "ratingValue": downloader.rating,
      "bestRating": "5",
      "worstRating": "1"
    },
    "author": {
      "@type": "Person",
      "name": `${downloader.name} User`
    },
    "datePublished": "2024-01-15",
    "reviewBody": downloader.description
  }))
};
---

<!-- Rest of the component remains the same -->